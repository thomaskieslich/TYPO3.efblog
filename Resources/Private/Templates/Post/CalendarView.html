{namespace tk=ThomasKieslich\Efblog\ViewHelpers}
<f:layout name="Default"/>
<f:section name="content">
	<div class="tx-efblog-calendar-container">
		<script>
			var datepickDataUri = '<f:uri.action action="ajaxCalendarMonth" pageType="6661" noCacheHash="TRUE" />'
			var datepickDayUri = '<f:uri.action action="ajaxCalendarDay" pageType="6661" noCacheHash="TRUE" />'
		</script>
		<div id="datepicker"></div>
		<div id="calEntries">
			<div id="todayEntries">
				<p>Keine Termine f√ºr diesen Tag.</p>
			</div>

			<div id="moreEntries">
				<f:groupedFor each="{posts}" as="postsByYear" groupBy="yearOf{date}" groupKey="year">
					<f:groupedFor each="{postsByYear}" as="postsByMonth" groupBy="monthOf{date}" groupKey="month">
						<f:groupedFor each="{postsByMonth}" as="postsByDay" groupBy="dayOf{date}" groupKey="day">
							<f:for each="{postsByDay}" as="post" iteration="dayIterator">
								<f:if condition="{dayIterator.isFirst}">
									<f:then>
										<h2>{post.date -> f:format.date(format:'%d. %B %Y')}</h2>
										{post.title -> f:link.action(action : 'detail', arguments : '{post:post}', pageUid : '{settings.detailUid}')}<br>
									</f:then>
									<f:else>
										{post.title -> f:link.action(action : 'detail', arguments : '{post:post}', pageUid : '{settings.detailUid}')}<br>
									</f:else>
								</f:if>
							</f:for>
						</f:groupedFor>
					</f:groupedFor>
				</f:groupedFor>
			</div>
		</div>
	</div>

</f:section>
