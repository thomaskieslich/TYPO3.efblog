{namespace tk=ThomasKieslich\Efblog\ViewHelpers}
<f:layout name="Default"/>
<f:section name="content">
	<div class="tx-efblog-search-container">
		<div class="result">
			<f:if condition="{posts -> f:count()} > 0">
				<f:then>
					<tk:widget.paginate objects="{posts}" as="countPosts" configuration="{settings.listView.paginator}">
						{countPosts->f:count()}
						<f:if condition="{posts -> f:count()} == 1">
							<f:then>{f:translate(key : 'view_search_result')}</f:then>
							<f:else>{f:translate(key : 'view_search_results')}</f:else>
						</f:if>
					</tk:widget.paginate>
					{searchPhrase}
				</f:then>
			</f:if>
		</div>

		<div class="search-field">
			<f:form action="searchList" pageUid="{settings.searchUid}">
				<f:form.textfield name="searchPhrase" value="{searchPhrase}" class="searchfield"/>
				<input type="submit" alt="go" class="submitbtn" value="go">
			</f:form>
		</div>

		<f:if condition="{posts -> f:count()} > 0">
			<tk:widget.paginate objects="{posts}" as="paginatedPosts" configuration="{settings.listView.paginator}">
				<f:for each="{paginatedPosts}" as="post">
					<div class="tx-efblog-list-item">
						<f:render partial="Post/ListItemBody" arguments="{post : post}"/>
						<f:render partial="Post/ListItemFooter" arguments="{post : post}"/>
					</div>
				</f:for>
			</tk:widget.paginate>
		</f:if>
	</div>
</f:section>
