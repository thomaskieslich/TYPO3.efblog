<f:layout name="Default"/>
<f:section name="content">
	<div class="tx-efblog-widget-container">
		<h1>{f:translate(key : 'widget_latestComments_header')}</h1>

		<div class="tx-efblog-widget-content">
			<ul>
				<f:for each="{comments}" as="comment">
					<li>
						<f:if condition="{comment.title}">
							<f:then>
								<f:link.page pageUid="{settings.detailUid}" additionalParams="{tx_efblog_fe1:{post:comment.post}}" title="{comment.title}" section="comment_{comment.uid}">
									{comment.author} |
									{comment.title -> f:format.crop(maxCharacters: '{settings.latestCommentsWidget.cropLink}',
									append: "{f:translate(key : 'widget_latestComments_more')}")}
								</f:link.page>
							</f:then>
							<f:else>
								<f:link.page pageUid="{settings.detailUid}" additionalParams="{tx_efblog_fe1:{post:comment.post}}" title="{comment.title}" section="comment_{comment.uid}">
									{comment.author} |
									{comment.message -> f:format.crop(maxCharacters: '{settings.latestCommentsWidget.cropLink}',
									append: "{f:translate(key : 'widget_latestComments_more')}")}
								</f:link.page>
							</f:else>
						</f:if>
					</li>
				</f:for>
			</ul>
		</div>
	</div>
</f:section>
