page.includeCSS.tx_tkblog = EXT:tkblog/Resources/Public/CSS/extension.css
page.includeCSS.tx_tkblog_ui = EXT:tkblog/Resources/Public/CSS/trontastic/jquery-ui-1.8.10.custom.css
page.includeJS.jquery_cookie = EXT:tkblog/Resources/Public/JS/jquery.cookie.js
page.includeJS.tx_tkblog = EXT:tkblog/Resources/Public/JS/extension.js

plugin.tx_tkblog{
	settings {

		overrideFlexformSettingsIfEmpty = latestWidget.maxEntrys,latestWidget.cropLink,viewsWidget.maxEntrys,viewsWidget.cropLink,categoryWidget.cropLink
		//Page
		replaceTitle = 1
		replaceDescription = 1
		replaceKeywords = 1

                defaultGravatar = typo3conf/ext/tkblog/Resources/Public/Icons/gravatar_default.png

		displayList{
			blogTitle = Tkblog

			//Sorting
			orderBy = date,title
			sortDirection = desc
			maxEntrys = 
			displayArchived = 
			daysToArchive =
			categoryMode = or
			category =

			//Rendering
			cropText = 188
			images = 4
			imageWidth = 100m
			imageHeight = 

			//Pager
			itemsPerPage = 12
			insertAbove = 1
			insertBelow = 1
			maxPages = 5

			//Search
		    searchFields = title, content.header, content.bodytext
		}

		displaySingle{
			pagerEnabled = 1
			divType = div
			hideDivider = 1
		}

		latestWidget{
			maxEntrys = 6
			cropLink = 12
			showViews = 1
		}

		viewsWidget{
			maxEntrys = 8
			cropLink = 12
		}
		
		categoryWidget{
			cropLink = 12
			viewCounts = 1
			viewEmpty	= 1
		}

		searchWidget{
		}

		dateMenuWidget{ 
		}
	}
	persistence{
                storagePid = {$plugin.tx_tkblog.persistence.storagePid}
		classes{
			Tx_Tkblog_Domain_Model_Content{
				mapping {
					tableName = tt_content
					columns{
						CType.mapOnProperty = ctype
					}
				}
			}
		}
	}
	view {
		templateRootPath = {$plugin.tx_tkblog.view.templateRootPath}
		partialRootPath = {$plugin.tx_tkblog.view.partialRootPath}
		layoutRootPath = {$plugin.tx_tkblog.view.layoutRootPath}
		}
	renderElement = COA
	renderElement {
				10 = RECORDS
				10 {
					source.field = uid
					tables = tt_content
					conf.tt_content < tt_content
				}
			}
	}

# Module configuration
module.tx_tkblog {
	settings < plugin.tx_tkblog.settings
	persistence < plugin.tx_tkblog.persistence
	view < plugin.tx_tkblog.view
	view {
		templateRootPath = {$module.tx_tkblog.view.templateRootPath}
		partialRootPath = {$module.tx_tkblog.view.partialRootPath}
		layoutRootPath = {$module.tx_tkblog.view.layoutRootPath}
	}
}

//RSS
xml = PAGE
xml {
  typeNum = 100
  10 = USER
  10 {
    userFunc = tx_extbase_core_bootstrap->run  
    pluginName = Fe1  
    extensionName = Tkblog  
    switchableControllerActions {
        Post {
            1 = rss
        }
    }
    settings =< plugin.tx_tkblog.settings
    persistence =< plugin.tx_tkblog.persistence
    view =< plugin.tx_tkblog.view
  }
   
  config {
    disableAllHeaderCode = 1
    additionalHeaders = Content-type:application/xml
    xhtml_cleaning = 0
    admPanel = 0
  }
  
}
   